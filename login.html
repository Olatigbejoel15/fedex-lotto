<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Login | Verification</title>
<style>
  :root {
    --bg: #ffffff;
    --card: #f5f5fa;
    --accent: #6b46c1; /* purple */
    --accent-2: #ff7a00; /* orange */
    --muted: #6b7280;
    --radius: 12px;
  }

  * { box-sizing: border-box; font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; }
  html,body { height:100%; margin:0; background:linear-gradient(180deg,#fff 0%, #fbfbff 100%); color:#111827; }
  .wrap { min-height:100vh; display:flex; align-items:center; justify-content:center; padding:24px; }
  .card {
    width:100%; max-width:420px; background:var(--card); border-radius:var(--radius);
    padding:24px; box-shadow:0 8px 30px rgba(20,20,40,0.06);
  }

  h1 { margin:0 0 6px 0; font-size:20px; }
  p.lead { margin:0 0 18px 0; color:var(--muted); font-size:14px; }

  label { display:block; font-size:13px; margin-bottom:6px; color:#111827; }
  input[type="email"], input[type="password"], input[type="text"] {
    width:100%; padding:12px 14px; border-radius:10px; border:1px solid #e6e9ef; font-size:15px; background: white;
  }

  .row { margin-bottom:14px; }
  .btn {
    display:inline-block; width:100%; padding:12px 14px; border-radius:10px; border:0; cursor:pointer;
    font-weight:600; font-size:15px;
  }
  .btn-primary { background:var(--accent); color:white; }
  .btn-primary:disabled { opacity:0.6; cursor:not-allowed; }

  .muted { color:var(--muted); font-size:13px; margin-top:8px; }
  .hidden { display:none; }
  .center { text-align:center; }

  .code-input { letter-spacing:8px; text-align:center; font-size:20px; padding:12px 14px; }

  /* Spinner */
  .spinner {
    width:24px; height:24px;
    border:3px solid #ddd;
    border-top-color: var(--accent);
    border-radius:50%;
    animation: spin 0.8s linear infinite;
    margin:0 auto;
  }
  @keyframes spin { to { transform:rotate(360deg); } }

  @media(min-width:720px){
    .card { padding:28px; }
    h1 { font-size:22px; }
  }
</style>
</head>
<body>
  <div class="wrap">
    <div class="card" id="card">

      <!-- LOGIN STEP -->
      <div id="step-login">
        <h1>Welcome back</h1>
        <p class="lead">Sign in to continue</p>

        <div class="row">
          <label for="email">ID</label>
          <input id="email" type="email" placeholder="MDREDWR432DDZ" autocomplete="username" />
        </div>

        <div class="row">
          <label for="password">Password</label>
          <input id="password" type="password" placeholder="Your password" autocomplete="current-password" />
        </div>

        <div class="row">
          <button id="loginBtn" class="btn btn-primary">Sign in</button>
        </div>

        <p id="loginError" style="color:#b91c1c; font-size:13px; display:none;"></p>
      </div>

      <!-- VERIFICATION STEP -->
      <div id="step-verify" class="hidden">
        <h1>Verification required</h1>
        <p class="lead">4-digit verification code sent to your officer , get it and enter it below.</p>

        <div class="row">
          <label for="code">Verification Code</label>
          <input id="code" class="code-input" type="text" maxlength="4" placeholder="••••" inputmode="numeric" />
        </div>

        <div class="row">
          <button id="verifyBtn" class="btn btn-primary">Verify</button>
        </div>

        <div id="spinner" class="spinner hidden"></div>
        <p id="verifyMsg" style="color:#b91c1c; font-size:13px; display:none;"></p>
      </div>

      <!-- SUCCESS STEP -->
      <div id="step-success" class="hidden center">
        <div class="spinner" style="margin-top:16px;"></div>
        <h1>Verifying...</h1>
        <p class="lead">Please wait</p>
      </div>

    </div>
  </div>

<script>
/*
  Fixed verification code + dashboard redirect
  --------------------------------------------
  - One verification code (constant)
  - Spinner while checking
  - Redirect after success
*/

const correctEmail = "9056490602/333";
const correctPassword = "Sonia123$$";
const fixedVerificationCode = "1172"; // <- fixed code
const dashboardURL = "dashboard.html"; // <- redirect target

// DOM elements
const stepLogin = document.getElementById('step-login');
const stepVerify = document.getElementById('step-verify');
const stepSuccess = document.getElementById('step-success');
const loginBtn = document.getElementById('loginBtn');
const verifyBtn = document.getElementById('verifyBtn');
const loginError = document.getElementById('loginError');
const verifyMsg = document.getElementById('verifyMsg');
const spinner = document.getElementById('spinner');

function show(el){ el.classList.remove('hidden'); }
function hide(el){ el.classList.add('hidden'); }

// Login check
loginBtn.addEventListener('click', ()=>{
  loginError.style.display = 'none';
  const email = document.getElementById('email').value.trim();
  const password = document.getElementById('password').value.trim();

  if(!email || !password){
    loginError.textContent = "Please enter both email and password.";
    loginError.style.display = 'block';
    return;
  }

  if(email.toLowerCase() === correctEmail.toLowerCase() && password === correctPassword){
    hide(stepLogin);
    show(stepVerify);
  } else {
    loginError.textContent = "Incorrect email or password.";
    loginError.style.display = 'block';
  }
});

// Verification check
verifyBtn.addEventListener('click', ()=>{
  verifyMsg.style.display = 'none';
  const code = document.getElementById('code').value.trim();

  if(!code){
    verifyMsg.textContent = "Please enter the code.";
    verifyMsg.style.display = 'block';
    return;
  }

  verifyBtn.disabled = true;
  show(spinner);

  setTimeout(()=>{
    hide(spinner);
    verifyBtn.disabled = false;

    if(code === fixedVerificationCode){
      hide(stepVerify);
      show(stepSuccess);

      setTimeout(()=>{
        window.location.href = dashboardURL;
      }, 2000);
    } else {
      verifyMsg.textContent = "Invalid code. Try again.";
      verifyMsg.style.display = 'block';
    }
  }, 1500); // simulate checking delay
});

// Allow Enter key
['email','password','code'].forEach(id=>{
  document.getElementById(id).addEventListener('keydown', e=>{
    if(e.key === 'Enter'){
      if(!stepVerify.classList.contains('hidden')) verifyBtn.click();
      else loginBtn.click();
    }
  });
});
</script>
</body>
</html>
